# ===========================================================================
# OpenMedRecord -- Environment Variables
#
# Copy this file to .env and fill in values for your environment.
# NEVER commit the actual .env file to version control.
# ===========================================================================

# ── Application ────────────────────────────────────────────────────────────
APP_NAME=OpenMedRecord
APP_VERSION=0.1.0
ENVIRONMENT=development          # development | staging | production
DEBUG=true
LOG_LEVEL=DEBUG                  # DEBUG | INFO | WARNING | ERROR
LOG_FORMAT=console               # console | json

# ── Server ─────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000
WORKERS=1

# ── Database (PostgreSQL) ──────────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://openmed:openmed_dev@localhost:5432/openmedrecord
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=5
DATABASE_POOL_RECYCLE=3600

# ── Redis ──────────────────────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0

# ── JWT / Authentication ───────────────────────────────────────────────────
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=CHANGE_ME_generate_a_secure_random_string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_MINUTES=10080

# ── Field-Level Encryption ─────────────────────────────────────────────────
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FIELD_ENCRYPTION_KEY=CHANGE_ME_generate_a_fernet_key
ENCRYPTION_ALGORITHM=AES-256-GCM

# ── CORS ───────────────────────────────────────────────────────────────────
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ── Multi-Tenancy ──────────────────────────────────────────────────────────
DEFAULT_TENANT_SCHEMA=public

# ── MFA ────────────────────────────────────────────────────────────────────
MFA_ISSUER_NAME=OpenMedRecord

# ── Rate Limiting ──────────────────────────────────────────────────────────
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_AUTH=10/minute

# ── Audit ──────────────────────────────────────────────────────────────────
AUDIT_LOG_ENABLED=true

# ── AWS (for CDK deployments) ──────────────────────────────────────────────
# AWS_ACCOUNT_ID=123456789012
# AWS_REGION=us-east-1
# STAGE=staging

# ── Frontend (Vite environment variables) ──────────────────────────────────
VITE_API_BASE_URL=http://localhost:8000
VITE_FHIR_BASE_URL=http://localhost:8000/fhir
VITE_ENVIRONMENT=development

# ── Email (Mailpit for development) ───────────────────────────────────────
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@openmedrecord.health

# ── CI/CD ──────────────────────────────────────────────────────────────────
# ALERT_EMAIL=ops@openmedrecord.health
# DOMAIN_NAME=openmedrecord.health
